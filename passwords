su -

#Enforce strong password policies in /etc/login.defs
echo "Setting up secure password policies..."
sudo sed -i 's/PASS_MAX_DAYS./PASS_MAX_DAYS   90/' /etc/login.defs
sudo sed -i 's/PASS_MIN_DAYS./PASS_MIN_DAYS   7/' /etc/login.defs
sudo sed -i 's/PASS_MIN_LEN./PASS_MIN_LEN   14/' /etc/login.defs
sudo sed -i 's/PASS_WARN_AGE./PASS_WARN_AGE   14/' /etc/login.defs

#Set up common password settings in /etc/security/pwquality.conf
echo "minlen = 14" | sudo tee -a /etc/security/pwquality.conf
echo "dcredit = -2" | sudo tee -a /etc/security/pwquality.conf
echo "ucredit = -2" | sudo tee -a /etc/security/pwquality.conf
echo "lcredit = -2" | sudo tee -a /etc/security/pwquality.conf
echo "ocredit = -1" | sudo tee -a /etc/security/pwquality.conf

passwd
